<div *ngIf="preferredSupplier" class="step-results-container">
  <!-- ספק מועדף -->
  <div class="main-supplier-card" [class.selected]="selectedSupplierId === preferredSupplier.id">
    <img [src]="preferredSupplier.imageUrl" class="main-image" alt="{{ preferredSupplier.name }}" />
    <div class="main-info">
      <h2>{{ preferredSupplier.name }}</h2>
      <p>{{ preferredSupplier.region || 'Unknown' }}</p>
      <p class="price">${{ preferredSupplier.price }}</p>
      <p class="description">{{ preferredSupplier.description }}</p>

      <div class="main-actions">
        <ng-container *ngIf="getSupplierButtonState(preferredSupplier) as btn">
          <button
            mat-raised-button
            [disabled]="btn.disabled"
            color="primary"
            [ngClass]="btn.cssClass"
            (click)="confirmSelection(preferredSupplier)">
            {{ btn.label }}
          </button>
        </ng-container>
        
        
        <button
          mat-button
          color="accent"
          class="more-details-button"
          (click)="openDetails($event, preferredSupplier)">
          More details
        </button>
      </div>
    </div>
  </div>

  <!-- ספקים נוספים -->
  <div *ngIf="alternativeSuppliers.length > 0" class="alternative-suppliers-row">
    <h3>More Options</h3>
    <div class="mini-cards">
      <div
        class="mini-supplier-card"
        *ngFor="let s of alternativeSuppliers"
        (click)="selectSupplier(s.id)">
        <img [src]="s.imageUrl" class="mini-thumbnail" alt="{{ s.name }}" />
        <div class="mini-info">
          <h4>{{ s.name }}</h4>
          <p class="price">${{ s.price }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
